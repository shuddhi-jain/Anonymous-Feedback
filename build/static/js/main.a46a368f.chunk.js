(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(7),r=a.n(c),o=(a(16),a(4)),u=a(2),s=a(3);const i=new s.b;i.setEndpoint("https://cloud.appwrite.io/v1").setProject("66fa9856001dec597c51");const m=new s.a(i);var d=function(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[r,o]=Object(n.useState)(""),s=Object(u.o)();return console.log("Email:",e),console.log("Password:",a),l.a.createElement("div",null,l.a.createElement("h1",null,"Admin Login"),l.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{await m.createSession(e,a),o("Login successful!"),s("/admin")}catch(n){o("Error logging in. Please check your credentials."),console.error("Login error:",n)}}},l.a.createElement("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email",required:!0}),l.a.createElement("input",{type:"password",value:a,onChange:e=>c(e.target.value),placeholder:"Password",required:!0}),l.a.createElement("button",{type:"submit"},"Login")),r&&l.a.createElement("p",null,r))};const E=new s.b;E.setEndpoint("https://cloud.appwrite.io/v1").setProject("66fa9856001dec597c51");const p=new s.a(E),b=new s.c(E);var g=function(){const[e,t]=Object(n.useState)([]),[a,c]=Object(n.useState)(!0),[r,o]=Object(n.useState)(""),[u,s]=Object(n.useState)(""),i=async()=>{c(!0);try{const a=await b.listDocuments("66fa98c90015e4e80a0e","66fa98d4000f2c8918ae");t(a.documents)}catch(e){console.error("Error fetching feedback:",e)}finally{c(!1)}};return Object(n.useEffect)(()=>{i()},[]),a?l.a.createElement("p",null,"Loading..."):l.a.createElement("div",null,l.a.createElement("h1",null,"Admin Panel - Feedback List"),l.a.createElement("div",null,l.a.createElement("label",null,"Start Date:"),l.a.createElement("input",{type:"date",value:r,onChange:e=>o(e.target.value)}),l.a.createElement("label",null,"End Date:"),l.a.createElement("input",{type:"date",value:u,onChange:e=>s(e.target.value)}),l.a.createElement("button",{onClick:i},"Filter")),l.a.createElement("ul",null,e.filter(e=>{const t=new Date(e.timestamp),a=!r||t>=new Date(r),n=!u||t<=new Date(u);return a&&n}).map(e=>l.a.createElement("li",{key:e.$id},l.a.createElement("p",null,l.a.createElement("strong",null,"Feedback:")," ",e.feedback_text),l.a.createElement("p",null,l.a.createElement("strong",null,"Submitted on:")," ",new Date(e.timestamp).toLocaleString()),l.a.createElement("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this feedback?"))try{await b.deleteDocument("66fa98c90015e4e80a0e","66fa98d4000f2c8918ae",e),i()}catch(t){console.error("Error deleting feedback:",t)}})(e.$id)},"Delete")))))};var f=function(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(null),r=Object(u.o)();return Object(n.useEffect)(()=>{(async()=>{try{const t=await p.get();c(t)}catch(e){console.error("Not authenticated",e),r("/auth")}})()},[r]),a?l.a.createElement("div",null,l.a.createElement("h1",null,"Submit Feedback"),l.a.createElement("form",{onSubmit:async n=>{if(n.preventDefault(),e)try{await b.createDocument("66fa98c90015e4e80a0e","66fa98d4000f2c8918ae",{feedback_text:e,timestamp:(new Date).toISOString(),userId:a.$id}),t(""),alert("Feedback submitted successfully!")}catch(l){console.error("Error submitting feedback:",l)}}},l.a.createElement("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Enter your feedback",required:!0}),l.a.createElement("button",{type:"submit"},"Submit"))):l.a.createElement("p",null,"Loading...")};const h=new s.b;h.setEndpoint("https://cloud.appwrite.io/v1").setProject("66fa9856001dec597c51");const w=new s.a(h);var v=function(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[r,o]=Object(n.useState)(""),[s,i]=Object(n.useState)(!0),m=Object(u.o)();return l.a.createElement("div",null,l.a.createElement("h1",null,s?"User Login":"User Registration"),l.a.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),!a||a.length<6)o("Password must be at least 6 characters long.");else try{if(s){const t=await w.createSession(e,a);console.log("Session:",t),o("Login successful!"),m("/")}else{const t=await w.create("unique()",e,a);console.log("User:",t),o("Registration successful! You can now log in.")}}catch(n){o(`Error: ${n.message}`),console.error("Auth error:",n)}}},l.a.createElement("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email",required:!0}),l.a.createElement("input",{type:"password",value:a,onChange:e=>c(e.target.value),placeholder:"Password",required:!0}),l.a.createElement("button",{type:"submit"},s?"Login":"Register")),l.a.createElement("p",null,r),l.a.createElement("button",{onClick:()=>i(!s)},s?"Switch to Registration":"Switch to Login"))};var S=function(){return l.a.createElement(o.a,null,l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/",element:l.a.createElement(f,null)})," ",l.a.createElement(u.a,{path:"/admin",element:l.a.createElement(g,null)})," ",l.a.createElement(u.a,{path:"/login",element:l.a.createElement(d,null)})," ",l.a.createElement(u.a,{path:"/auth",element:l.a.createElement(v,null)})," "))};var y=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=t;a(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null))),y()},8:function(e,t,a){e.exports=a(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.a46a368f.chunk.js.map